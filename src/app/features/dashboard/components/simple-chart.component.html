<div class="bg-white rounded-lg shadow p-4">
  <h3 class="text-sm font-semibold text-gray-700 mb-3">{{ title }}</h3>
  @if (loading) {
    <div class="h-64 flex items-center justify-center">
      <div class="animate-pulse text-gray-400">Loading chart...</div>
    </div>
  } @else if (error) {
    <div class="h-64 flex items-center justify-center">
      <div class="text-red-500 text-sm">{{ error }}</div>
    </div>
  } @else if (hasData()) {
    <div class="h-64">
      @switch (type) {
        @case ('line') {
          <canvas baseChart
            [data]="chartData"
            [options]="chartOptions"
            [type]="'line'">
          </canvas>
        }
        @case ('bar') {
          <canvas baseChart
            [data]="chartData"
            [options]="chartOptions"
            [type]="'bar'">
          </canvas>
        }
        @case ('pie') {
          <canvas baseChart
            [data]="chartData"
            [options]="chartOptions"
            [type]="'pie'">
          </canvas>
        }
        @case ('doughnut') {
          <canvas baseChart
            [data]="chartData"
            [options]="chartOptions"
            [type]="'doughnut'">
          </canvas>
        }
      }
    </div>
  } @else {
    <div class="h-64 flex items-center justify-center">
      <div class="text-gray-400 text-sm">No data available</div>
    </div>
  }
</div>
